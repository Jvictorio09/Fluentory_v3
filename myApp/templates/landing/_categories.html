<section id="categories" class="relative overflow-hidden">
    <!-- Calm premium backdrop -->
    <div class="absolute inset-0">
      <div class="absolute inset-0 bg-gradient-to-b from-slate-50 via-white to-slate-50"></div>
      <div class="absolute -top-48 left-1/2 h-[720px] w-[720px] -translate-x-1/2 rounded-full bg-gradient-to-br from-teal-soft/14 to-blue-soft/12 blur-3xl"></div>
      <div class="absolute -bottom-56 right-[-240px] h-[820px] w-[820px] rounded-full bg-gradient-to-tr from-blue-soft/10 to-teal-soft/10 blur-3xl"></div>
      <div class="absolute inset-0 opacity-[0.05]"
           style="background-image: linear-gradient(rgba(15,23,42,0.06) 1px, transparent 1px), linear-gradient(90deg, rgba(15,23,42,0.06) 1px, transparent 1px);
                  background-size: 84px 84px;">
      </div>
    </div>
  
    <div class="relative max-w-6xl mx-auto px-4 py-12 md:py-16">
      <!-- Header -->
      <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-5 mb-8">
        <div class="max-w-2xl">
          <div class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1.5 text-[11px] font-semibold tracking-[0.26em] uppercase text-slate-500 shadow-sm">
            <span class="h-1.5 w-1.5 rounded-full bg-teal-soft"></span>
            Categories
          </div>
  
          <h2 class="mt-4 text-2xl md:text-3xl font-extrabold tracking-tight text-ink-deep">
            Choose your path
          </h2>
  
          <p class="mt-2 text-sm text-black md:text-base text-slate-600 leading-relaxed">
            Start with a focus area and explore curated certifications inside each path.
          </p>
        </div>
  
        <div class="md:max-w-xs">
          <div class="rounded-2xl border border-slate-200 bg-white/70 px-4 py-3 text-xs text-slate-600 shadow-sm">
            Every course includes <span class="font-semibold text-ink-deep">lifetime access</span>, downloadable materials,
            and a certificate on completion.
          </div>
        </div>
      </div>
  
      <!-- Grid -->
      <div class="grid gap-5 {% if categories|length == 1 %}md:grid-cols-1{% elif categories|length == 2 %}md:grid-cols-2{% else %}md:grid-cols-3{% endif %}">
        {% for category in categories %}
  
          {# -------- EMERALD -------- #}
          {% if category.color == 'emerald' %}
            <a href="#featured-courses"
               class="group relative overflow-hidden rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition
                      hover:-translate-y-0.5 hover:border-emerald-200 hover:shadow-md">
  
              <!-- subtle glow -->
              <div class="pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100">
                <div class="absolute -top-16 -right-16 h-56 w-56 rounded-full bg-emerald-200/35 blur-3xl"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-white/0 via-white/0 to-slate-50/70"></div>
              </div>
  
              <div class="relative flex items-start justify-between gap-4">
                <div class="min-w-0">
                  <div class="inline-flex items-center gap-2 rounded-full border border-emerald-200/60 bg-emerald-50 px-3 py-1 text-[11px] font-semibold text-emerald-700">
                    <i class="fas {{ category.icon }} text-[10px]"></i>
                    {{ category.name }}
                  </div>
  
                  <h3 class="mt-4 text-base font-extrabold text-ink-deep leading-snug">
                    {{ category.description }}
                  </h3>
  
                  <p class="mt-2 text-xs text-slate-600 leading-relaxed">
                    {{ category.subtitle }}
                  </p>
                </div>
  
                <div class="h-12 w-12 shrink-0 rounded-2xl border border-emerald-200/40 bg-emerald-50 flex items-center justify-center text-emerald-700 shadow-sm">
                  <i class="fas {{ category.icon }}"></i>
                </div>
              </div>
  
              <div class="relative mt-5 flex flex-wrap gap-2 text-[11px]">
                {% for course in category.courses|slice:":3" %}
                  <span class="inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1 text-slate-600">
                    {{ course.name|truncatewords:3 }}
                  </span>
                {% empty %}
                  <span class="inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1 text-slate-600">
                    Coming soon
                  </span>
                {% endfor %}
              </div>
  
              <div class="relative mt-5 inline-flex items-center text-xs font-extrabold text-emerald-700">
                Explore certifications
                <i class="fas fa-arrow-right ml-2 text-[10px] transition-transform group-hover:translate-x-0.5"></i>
              </div>
            </a>
  
          {# -------- SKY -------- #}
          {% elif category.color == 'sky' %}
            <a href="#featured-courses"
               class="group relative overflow-hidden rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition
                      hover:-translate-y-0.5 hover:border-sky-200 hover:shadow-md">
  
              <div class="pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100">
                <div class="absolute -top-16 -right-16 h-56 w-56 rounded-full bg-sky-200/35 blur-3xl"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-white/0 via-white/0 to-slate-50/70"></div>
              </div>
  
              <div class="relative flex items-start justify-between gap-4">
                <div class="min-w-0">
                  <div class="inline-flex items-center gap-2 rounded-full border border-sky-200/60 bg-sky-50 px-3 py-1 text-[11px] font-semibold text-sky-800">
                    <i class="fas {{ category.icon }} text-[10px]"></i>
                    {{ category.name }}
                  </div>
  
                  <h3 class="mt-4 text-base font-extrabold text-ink-deep leading-snug">
                    {{ category.description }}
                  </h3>
  
                  <p class="mt-2 text-xs text-slate-600 leading-relaxed">
                    {{ category.subtitle }}
                  </p>
                </div>
  
                <div class="h-12 w-12 shrink-0 rounded-2xl border border-sky-200/40 bg-sky-50 flex items-center justify-center text-sky-800 shadow-sm">
                  <i class="fas {{ category.icon }}"></i>
                </div>
              </div>
  
              <div class="relative mt-5 flex flex-wrap gap-2 text-[11px]">
                {% for course in category.courses|slice:":3" %}
                  <span class="inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1 text-slate-600">
                    {{ course.name|truncatewords:3 }}
                  </span>
                {% empty %}
                  <span class="inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1 text-slate-600">
                    Coming soon
                  </span>
                {% endfor %}
              </div>
  
              <div class="relative mt-5 inline-flex items-center text-xs font-extrabold text-sky-800">
                Explore certifications
                <i class="fas fa-arrow-right ml-2 text-[10px] transition-transform group-hover:translate-x-0.5"></i>
              </div>
            </a>
  
          {# -------- PURPLE / DEFAULT -------- #}
          {% else %}
            <a href="#featured-courses"
               class="group relative overflow-hidden rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition
                      hover:-translate-y-0.5 hover:border-purple-200 hover:shadow-md">
  
              <div class="pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100">
                <div class="absolute -top-16 -right-16 h-56 w-56 rounded-full bg-purple-200/40 blur-3xl"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-white/0 via-white/0 to-slate-50/70"></div>
              </div>
  
              <div class="relative flex items-start justify-between gap-4">
                <div class="min-w-0">
                  <div class="inline-flex items-center gap-2 rounded-full border border-purple-200/70 bg-purple-50 px-3 py-1 text-[11px] font-semibold text-purple-800">
                    <i class="fas {{ category.icon }} text-[10px]"></i>
                    {{ category.name }}
                  </div>
  
                  <h3 class="mt-4 text-base font-extrabold text-ink-deep leading-snug">
                    {{ category.description }}
                  </h3>
  
                  <p class="mt-2 text-xs text-slate-600 leading-relaxed">
                    {{ category.subtitle }}
                  </p>
                </div>
  
                <div class="h-12 w-12 shrink-0 rounded-2xl border border-purple-200/50 bg-purple-50 flex items-center justify-center text-purple-800 shadow-sm">
                  <i class="fas {{ category.icon }}"></i>
                </div>
              </div>
  
              <div class="relative mt-5 flex flex-wrap gap-2 text-[11px]">
                {% for course in category.courses|slice:":3" %}
                  <span class="inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1 text-slate-600">
                    {{ course.name|truncatewords:3 }}
                  </span>
                {% empty %}
                  <span class="inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1 text-slate-600">
                    Coming soon
                  </span>
                {% endfor %}
              </div>
  
              <div class="relative mt-5 inline-flex items-center text-xs font-extrabold text-purple-800">
                Explore certifications
                <i class="fas fa-arrow-right ml-2 text-[10px] transition-transform group-hover:translate-x-0.5"></i>
              </div>
            </a>
          {% endif %}
  
        {% empty %}
          <div class="col-span-full">
            <div class="rounded-3xl border border-slate-200 bg-white p-12 text-center shadow-sm">
              <p class="text-slate-600">No categories available at this time.</p>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
  